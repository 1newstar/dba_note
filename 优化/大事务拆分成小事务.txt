
mysql大事务带来的问题
https://blog.csdn.net/m0_38004619/article/details/78833892


删除大表的正确姿势


参考以前在 patozon 做的项目(数据的清洗)
大事务拆分成小事务(全量(全表)到增量的过程):
对一个大表数据量大小为1个亿的表进行数据清洗(分析和统计),然后把结果写入到新表中,用于做WEB端页面的查询:
1. 每次取5W条记录做分析和统计, 然后把记录的最大ID即主键写入一个a表中.
2. 下一次再取5W条记录, 条件就变成 > a表中的最大ID 和 再加上限制取 5W条记录.
3. 依次取5W条记录做统计和分析





