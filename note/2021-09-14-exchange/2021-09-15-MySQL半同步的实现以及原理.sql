


after commit(半同步复制)
	
	5.6 版本开始支持
	
	工作原理：
		在存储引擎层提交之后才把 binlog发送给从库, 从库确认接收到之后, 返回一个 ack 应答给主库, 这时候主库的事务执行完成.
	
	缺点：
		1. 有数据丢失的风险
		
			故障分析：
				
				假设主库在写入engine之后宕机，HA切换到从库后，因为binlog未发送给从库，所以会有导致丢失数据的风险。
				
		
		2. 可能会导致主库事务响应变慢。
		
	
after sync(增强半同步复制)
	5.7 版本开始支持
	
	工作原理：

		在写入binlog之后, 存储引擎层提交之前把binlog发送给从库, 从库把 binlog 写入到 relay log后, 再返回一个 ack 应答给主库, 这时候主库的事务执行完成.
	
	故障分析：
		假设主库在写入engine之后宕机，HA切换到从库后，因为binlog已经写入到从库relay log, 因此不会造成数据丢失。
	
	缺点：
	
		1. 可能会导致主库事务响应变慢。