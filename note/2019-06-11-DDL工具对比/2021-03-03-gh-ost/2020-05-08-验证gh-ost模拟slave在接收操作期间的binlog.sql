



root@mysqldb 14:39:  [(none)]> show slave hosts;
+-----------+------+------+-----------+--------------------------------------+
| Server_id | Host | Port | Master_id | Slave_UUID                           |
+-----------+------+------+-----------+--------------------------------------+
|    330692 |      | 3306 |    330691 | e136faa2-eeab-11e9-9494-080027cb3816 |
+-----------+------+------+-----------+--------------------------------------+
1 row in set (0.00 sec)

执行 gh-ost 


root@mysqldb 14:40:  [(none)]> show slave hosts;
+-----------+------+------+-----------+--------------------------------------+
| Server_id | Host | Port | Master_id | Slave_UUID                           |
+-----------+------+------+-----------+--------------------------------------+
|     99999 | kp04 | 3306 |    330691 |                                      |
|    330692 |      | 3306 |    330691 | e136faa2-eeab-11e9-9494-080027cb3816 |
+-----------+------+------+-----------+--------------------------------------+
2 rows in set (0.00 sec)

可以看到, Server_id=99999 就是 gh-ost 作为一个slave来接收操作期间产生的binlog.

root@mysqldb 14:40:  [(none)]> show slave hosts;
+-----------+------+------+-----------+--------------------------------------+
| Server_id | Host | Port | Master_id | Slave_UUID                           |
+-----------+------+------+-----------+--------------------------------------+
|    330692 |      | 3306 |    330691 | e136faa2-eeab-11e9-9494-080027cb3816 |
+-----------+------+------+-----------+--------------------------------------+
1 row in set (0.00 sec)



